<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="UTF-8">
<title>Admin Dashboard ‚Äì ID Card System</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;900&display=swap" rel="stylesheet">

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>

*{
    margin:0;
    padding:0;
    box-sizing:border-box;
    font-family:"Poppins",sans-serif;
}

body{
    height:100vh;
    display:flex;
    background:linear-gradient(135deg,#f5fbf8 0%,#eef7f3 100%);
    color:#0f172a;
    overflow:hidden;
    font-smoothing:antialiased;
}

/* ===================== SIDEBAR ===================== */

.sidebar{
    width:260px;
    background:linear-gradient(180deg,#0f172a 0%,#064e3b 55%,#047857 100%);
    border-right:1px solid rgba(255,255,255,.06);
    box-shadow:6px 0 24px rgba(4,120,87,0.18);
    display:flex;
    flex-direction:column;
    padding:28px 20px;
}

.brand{
    text-align:center;
    font-size:22px;
    font-weight:700;
    color:#ffffff;
    margin-bottom:32px;
    letter-spacing:.5px;
}

.nav-section-title{
    margin:12px 6px;
    font-size:11px;
    text-transform:uppercase;
    opacity:.7;
}

/* side buttons */

.nav-item{
    padding:12px 15px;
    border-radius:12px;
    cursor:pointer;
    transition:.25s ease;
    font-size:14px;
    text-decoration:none;
    color:#cbd5e1;
    display:block;
    margin-bottom:8px;
    border:1px solid transparent;
}

.nav-item:hover,
.active{
    background:linear-gradient(135deg,#10b981,#06b6d4);
    border-color:rgba(255,255,255,0.08);
    box-shadow:0 10px 26px rgba(16,185,129,0.26);
    color:#ffffff;
}

/* logout button bottom */

.logout{
    margin-top:auto;
    background:#ef4444;
}
.logout:hover{
    background:#dc2626;
}

/* ===================== MAIN ===================== */

.main{
    flex:1;
    padding:28px 35px 40px;
    overflow-y:auto;
}

/* top header */

.header{
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-bottom:25px;
}

.header h1{
    font-size:26px;
    font-weight:700;
    letter-spacing:-0.3px;
    color:#0f172a;
}

.admin-box{
    background:white;
    color:#0f172a;
    padding:10px 15px;
    border-radius:12px;
    border:1px solid #e2e8f0;
    box-shadow:0 8px 22px rgba(15,23,42,0.08);
}

.welcome-card{
    display:flex;
    align-items:center;
    justify-content:space-between;
    background:white;
    border:1px solid #e2e8f0;
    border-radius:16px;
    padding:18px 20px;
    box-shadow:0 10px 26px rgba(15,23,42,0.08);
    margin-bottom:20px;
}

.welcome-left{
    display:flex;
    align-items:center;
    gap:14px;
}

.welcome-avatar{
    width:46px;
    height:46px;
    border-radius:14px;
    background:linear-gradient(135deg,#10b981,#06b6d4);
    display:flex;
    align-items:center;
    justify-content:center;
    color:white;
    font-weight:800;
    font-size:18px;
    box-shadow:0 8px 18px rgba(16,185,129,0.25);
}

.welcome-avatar img{
    width:100%;
    height:100%;
    object-fit:cover;
    border-radius:12px;
    border:2px solid #e2e8f0;
}

.welcome-sub{
    margin:0;
    font-size:13px;
    color:#64748b;
}

.welcome-card h1{
    margin:0;
    font-size:22px;
    font-weight:800;
    color:#0f172a;
    letter-spacing:-0.3px;
}

.welcome-role{
    display:flex;
    flex-direction:column;
    align-items:flex-end;
    gap:4px;
    text-align:right;
}

.role-chip{
    display:inline-flex;
    align-items:center;
    gap:6px;
    padding:8px 12px;
    background:linear-gradient(135deg,#10b981,#06b6d4);
    color:white;
    border-radius:12px;
    font-weight:700;
    box-shadow:0 8px 18px rgba(16,185,129,0.22);
}

.welcome-email{
    font-size:12px;
    color:#475569;
}

/* ===================== GRID LAYOUT ===================== */

.grid{
    display:grid;
    grid-template-columns:2fr 1fr;
    gap:20px;
}

/* statistic cards */

.stats{
    display:grid;
    grid-template-columns:repeat(3,1fr);
    gap:16px;
    margin-bottom:18px;
}

.stat-card{
    background:white;
    padding:20px;
    border-radius:16px;
    border:1px solid #e2e8f0;
    transition:.25s ease;
    box-shadow:0 8px 24px rgba(15,23,42,0.08);
    color:#0f172a;
}

.stat-card:hover{
    transform:translateY(-4px);
    box-shadow:0 14px 32px rgba(15,23,42,0.12);
}

.stat-card h3{
    font-size:13px;
    opacity:.7;
    letter-spacing:0.2px;
}

.stat-value{
    font-size:28px;
    font-weight:800;
    margin-top:6px;
}

/* ===================== ACTION CARDS ===================== */

.card{
    background:white;
    border-radius:16px;
    padding:18px;
    border:1px solid #e2e8f0;
    margin-bottom:14px;
    box-shadow:0 10px 26px rgba(15,23,42,0.1);
    color:#0f172a;
}

.card-title{
    font-size:15px;
    font-weight:600;
    margin-bottom:6px;
}

.card p{
    font-size:13px;
    opacity:.7;
}

.action-grid{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
    gap:10px;
    margin-top:10px;
}

.action-btn{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:10px;
    padding:12px 14px;
    border-radius:12px;
    background:#f8fafc;
    border:1px solid #e2e8f0;
    color:#0f172a;
    text-decoration:none;
    font-weight:600;
    transition:all .2s ease;
}

.action-btn span{
    display:flex;
    align-items:center;
    gap:10px;
}

.action-btn:hover{
    background:#ecfdf3;
    border-color:#bbf7d0;
    transform:translateY(-1px);
}

.action-icon{
    width:28px;
    height:28px;
    border-radius:10px;
    background:linear-gradient(135deg,#10b981,#06b6d4);
    display:flex;
    align-items:center;
    justify-content:center;
    color:white;
    font-size:14px;
}

.meta{
    font-size:12px;
    color:#64748b;
}

.card a{
    display:inline-block;
    margin-top:10px;
    padding:10px 16px;
    border-radius:10px;
    text-decoration:none;
    background:linear-gradient(135deg,#10b981,#06b6d4);
    color:white;
    transition:.2s;
    font-weight:600;
    box-shadow:0 10px 18px rgba(16,185,129,0.25);
}

.card a:hover{
    background:linear-gradient(135deg,#0ea5e9,#10b981);
    transform:translateY(-1px);
}

/* =================== ANNOUNCEMENTS =================== */

.announce-box{
    background:white;
    border-radius:16px;
    padding:18px;
    height:180px;
    overflow:auto;
    border:1px solid #e2e8f0;
    box-shadow:0 8px 22px rgba(15,23,42,0.08);
}

.announce-list{
    list-style:none;
    display:flex;
    flex-direction:column;
    gap:10px;
    margin-top:10px;
}

.announce-item{
    display:flex;
    gap:10px;
    align-items:flex-start;
    padding:10px 12px;
    border:1px solid #e2e8f0;
    border-radius:12px;
    background:#f8fafc;
}

.announce-icon{
    width:28px;
    height:28px;
    border-radius:10px;
    background:linear-gradient(135deg,#10b981,#06b6d4);
    display:flex;
    align-items:center;
    justify-content:center;
    color:white;
}

.announce-body{
    flex:1;
    color:#0f172a;
    font-size:13px;
}

.announce-body .meta{
    display:block;
    margin-top:4px;
}

/* =================== ACTIVITY TABLE =================== */

.table-box{
    background:white;
    border-radius:16px;
    padding:18px;
    border:1px solid #e2e8f0;
    box-shadow:0 8px 22px rgba(15,23,42,0.08);
}

table{
    width:100%;
    border-collapse:collapse;
    font-size:13px;
    color:#0f172a;
}
th{
    text-align:left;
    padding:10px 8px;
    opacity:.8;
    background:#f8fafc;
    border-bottom:1px solid #e2e8f0;
    font-weight:700;
}
td{
    padding:10px 8px;
    border-top:1px solid #e2e8f0;
}

tr:hover td{
    background:#f8fafc;
}

.pill{
    display:inline-flex;
    align-items:center;
    gap:6px;
    padding:6px 10px;
    border-radius:999px;
    font-weight:600;
    font-size:12px;
    color:#0f172a;
    background:#ecfdf3;
    border:1px solid #bbf7d0;
}

.pill.blue{
    background:#e0f2fe;
    border-color:#bfdbfe;
}

.pill.orange{
    background:#fff7ed;
    border-color:#fed7aa;
}

.dot{
    width:8px;
    height:8px;
    border-radius:50%;
    background:#10b981;
}

.dot.blue{background:#2563eb;}
.dot.orange{background:#f97316;}

</style>
</head>

<body>

<!-- ================= SIDEBAR ================= -->
<div class="sidebar">

    <div class="brand">ID CARD ADMIN PANEL</div>

    <div class="nav-section-title">Navigation</div>

    <a class="nav-item active" href="/admin/dashboard/">üè† Dashboard</a>
    <a class="nav-item" href="/admin/profile/">üë§ Admin Profile</a>
    <a class="nav-item" href="/admin/users/">üë• Manage Users</a>
    <a class="nav-item" href="/admin/templates/">üé® ID Templates</a>
    <a class="nav-item" href="/admin/generate-id/">ü™™ Generate ID Cards</a>
    <a class="nav-item" href="/admin/dashboard-settings/">‚öôÔ∏è Edit User Dashboard</a>

    <a class="nav-item logout" href="/logout/">Logout</a>

</div>


<!-- ================= MAIN ================= -->
<div class="main">

    <div class="welcome-card">
        <div class="welcome-left">
            {% if request.user.photo %}
            <div class="welcome-avatar">
                <img src="{{ request.user.photo.url }}" alt="Profile photo">
            </div>
            {% else %}
            <div class="welcome-avatar">{{ request.user.first_name|first|default:request.user.username|first|upper }}</div>
            {% endif %}
            <div>
                <p class="welcome-sub">Welcome back,</p>
                <h1>{{ request.user.get_full_name|default:request.user.username }}</h1>
            </div>
        </div>
        <div class="welcome-role">
            <div class="role-chip">Administrator</div>
            <div class="welcome-email">{{ request.user.email }}</div>
        </div>
    </div>


    <!-- ===== TOP STATS ===== -->
    <div class="stats">

        <div class="stat-card">
            <h3>Total Users</h3>
            <div class="stat-value">{{ users_count|default:"12" }}</div>
        </div>

        <div class="stat-card">
            <h3>ID Templates</h3>
            <div class="stat-value">{{ template_count|default:"4" }}</div>
        </div>

        <div class="stat-card">
            <h3>Generated ID Cards</h3>
            <div class="stat-value">{{ id_count|default:"48" }}</div>
        </div>

    </div>


    <div class="grid">

        <!-- LEFT PANEL -->
        <div>

            <div class="card">
                <div class="card-title">üìä System Performance</div>
                <canvas id="myChart" height="120"></canvas>
            </div>

            <div class="card">
                <div class="card-title">üöÄ Quick Actions</div>
                <p class="meta">Access key admin areas in one tap.</p>
                <div class="action-grid">
                    <a class="action-btn" href="/admin/users/">
                        <span><span class="action-icon">üë•</span>Manage Users</span>
                        <span class="meta">View & edit</span>
                    </a>
                    <a class="action-btn" href="/admin/templates/">
                        <span><span class="action-icon">üé®</span>Design Templates</span>
                        <span class="meta">Create & edit</span>
                    </a>
                    <a class="action-btn" href="/admin/generate-id/">
                        <span><span class="action-icon">ü™™</span>Generate ID</span>
                        <span class="meta">Export cards</span>
                    </a>
                </div>
            </div>


            <div class="table-box">
                <div class="card-title">üìù Recent User Activity</div>

                <table>
                    <tr>
                        <th>User</th>
                        <th>Action</th>
                        <th>Time</th>
                    </tr>

                    <tr>
                        <td>John</td>
                        <td><span class="pill"><span class="dot"></span>Logged in</span></td>
                        <td>2 min ago</td>
                    </tr>

                    <tr>
                        <td>Meera</td>
                        <td><span class="pill blue"><span class="dot blue"></span>Generated ID</span></td>
                        <td>10 min ago</td>
                    </tr>

                    <tr>
                        <td>Admin</td>
                        <td><span class="pill orange"><span class="dot orange"></span>Edited Template</span></td>
                        <td>30 min ago</td>
                    </tr>
                </table>
            </div>

        </div>

        <!-- RIGHT PANEL -->
        <div>

            <div class="announce-box">
                <div class="card-title">üì¢ Announcements</div>
                <ul class="announce-list">
                    <li class="announce-item">
                        <span class="announce-icon">‚è∞</span>
                        <div class="announce-body">
                            Scheduled maintenance Friday 10pm‚Äì11pm UTC.
                            <span class="meta">Posted today</span>
                        </div>
                    </li>
                    <li class="announce-item">
                        <span class="announce-icon">üÜï</span>
                        <div class="announce-body">
                            New ID card template released for Engineering department.
                            <span class="meta">Posted yesterday</span>
                        </div>
                    </li>
                    <li class="announce-item">
                        <span class="announce-icon">üì¶</span>
                        <div class="announce-body">
                            Bulk export feature rolling out next week.
                            <span class="meta">Posted 2 days ago</span>
                        </div>
                    </li>
                </ul>
            </div>

            <div class="card">
                <div class="card-title">üßë‚Äçüíª Admin Info</div>
                <p>Email: {{ request.user.email }}</p>
                <p>Role: Administrator</p>
            </div>

        </div>

    </div>

</div>

<script>
const ctx=document.getElementById("myChart");
new Chart(ctx,{
type:"line",
data:{
labels:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],
datasets:[{
label:"System Usage",
data:[3,7,4,9,5,10,6],
borderWidth:3
}]
},
options:{
plugins:{legend:{display:false}},
scales:{y:{beginAtZero:true}}
}
});
</script>

</body>
</html>

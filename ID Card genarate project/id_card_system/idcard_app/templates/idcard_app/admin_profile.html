<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Admin Profile</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;800&display=swap" rel="stylesheet">

<style>

*{
    margin:0;
    padding:0;
    box-sizing:border-box;
    font-family:"Poppins",sans-serif;
}

body{
    background:linear-gradient(135deg,#f5fbf8 0%,#eef7f3 100%);
    min-height:100vh;
    color:#0f172a;
    display:flex;
    font-smoothing:antialiased;
}

/* =============== SIDEBAR =============== */

.sidebar{
    width:250px;
    background:linear-gradient(180deg,#0f172a 0%,#064e3b 55%,#047857 100%);
    padding:25px 18px;
    display:flex;
    flex-direction:column;
    border-right:1px solid rgba(255,255,255,.06);
    box-shadow:6px 0 24px rgba(4,120,87,0.18);
}

.sidebar h2{
    text-align:center;
    font-size:20px;
    color:#ffffff;
    margin-bottom:30px;
    letter-spacing:.5px;
}

.nav-item{
    padding:12px 15px;
    margin-bottom:10px;
    border-radius:12px;
    cursor:pointer;
    color:#cbd5e1;
    text-decoration:none;
    display:block;
    transition:.25s ease;
    font-size:14px;
    border:1px solid transparent;
}

.nav-item:hover,
.active{
    background:linear-gradient(135deg,#10b981,#06b6d4);
    border-color:rgba(255,255,255,0.08);
    box-shadow:0 10px 26px rgba(16,185,129,0.26);
    color:#ffffff;
}

/* =============== MAIN PANEL =============== */

.main{
    flex:1;
    padding:32px 40px;
}

/* HEADER */

.header{
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-bottom:25px;
}

.header h1{
    font-size:26px;
    font-weight:700;
    letter-spacing:-0.3px;
    color:#0f172a;
}

.header div{
    color:#475569;
    font-weight:600;
}

/* PROFILE CARD */

.profile-wrapper{
    display:grid;
    grid-template-columns:300px 1fr;
    gap:25px;
}

/* LEFT AVATAR CARD */


.profile-wrapper{
    background:transparent;
}

.avatar-card{
    background:white;
    border-radius:18px;
    padding:25px;
    text-align:center;
    border:1px solid #e2e8f0;
    box-shadow:0 10px 26px rgba(15,23,42,0.1);
}

.avatar-card img{
    width:140px;
    height:140px;
    border-radius:50%;
    border:3px solid #10b981;
    object-fit:cover;
    margin-bottom:14px;
}

.avatar-fallback{
    width:140px;
    height:140px;
    border-radius:50%;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:42px;
    font-weight:800;
    color:white;
    background:linear-gradient(135deg,#10b981,#06b6d4);
    border:3px solid #10b981;
    margin:0 auto 14px;
    box-shadow:0 10px 24px rgba(16,185,129,0.22);
}

.upload-btn{
    background:linear-gradient(135deg,#10b981,#06b6d4);
    border:none;
    padding:9px 14px;
    color:white;
    border-radius:10px;
    cursor:pointer;
    margin-top:8px;
    font-weight:600;
    box-shadow:0 10px 18px rgba(16,185,129,0.22);
}

/* RIGHT FORM CARD */

.form-card{
    background:white;
    border-radius:18px;
    padding:25px;
    border:1px solid #e2e8f0;
    box-shadow:0 10px 26px rgba(15,23,42,0.1);
}

.form-title{
    font-size:15px;
    margin-bottom:10px;
    font-weight:600;
}

.input-group{
    margin-bottom:12px;
}

label{
    font-size:13px;
    opacity:.8;
    color:#475569;
}

input{
    width:100%;
    padding:10px 12px;
    border-radius:10px;
    border:1px solid #e2e8f0;
    margin-top:5px;
    outline:none;
    background:#f8fafc;
    color:#0f172a;
}

input:focus{
    border-color:#10b981;
    box-shadow:0 0 0 3px rgba(16,185,129,0.15);
    background:white;
}

.save-btn{
    margin-top:10px;
    background:linear-gradient(135deg,#10b981,#06b6d4);
    border:none;
    padding:10px 12px;
    border-radius:10px;
    color:white;
    cursor:pointer;
    font-weight:700;
    box-shadow:0 10px 18px rgba(16,185,129,0.22);
}

.save-btn:hover{
    transform:translateY(-1px);
}

.change-password{
    margin-top:20px;
    background:#f8fafc;
    padding:18px;
    border-radius:16px;
    border:1px solid #e2e8f0;
}

</style>

<script>
function previewImage(event){
    const reader=new FileReader();
    reader.onload=function(){
        document.getElementById("avatarPreview").src=reader.result;
    };
    reader.readAsDataURL(event.target.files[0]);
}
</script>

</head>

<body>

<!-- SIDEBAR -->
<div class="sidebar">
<h2>ADMIN PANEL</h2>

<a class="nav-item" href="/admin/dashboard/">üè† Dashboard</a>
<a class="nav-item active" href="/admin/profile/">üë§ Admin Profile</a>
<a class="nav-item" href="/admin/users/">üë• Manage Users</a>
<a class="nav-item" href="/admin/templates/">üé® Templates</a>
<a class="nav-item" href="/admin/generate-id/">ü™™ Generate ID</a>
<a class="nav-item" href="/admin/dashboard-settings/">‚öôÔ∏è User Dashboard Settings</a>

<a class="nav-item" href="/logout/">üö™ Logout</a>
</div>


<!-- MAIN -->
<div class="main">

<div class="header">
<h1>Admin Profile</h1>
<div>Welcome, {{ request.user.username }}</div>
</div>


<div class="profile-wrapper">

    <!-- LEFT CARD -->
    <div class="avatar-card">

        {% if request.user.photo %}
        <img id="avatarPreview" src="{{ request.user.photo.url }}" alt="Profile photo">
        {% else %}
        <div class="avatar-fallback" id="avatarPreviewFallback">{{ request.user.first_name|first|default:request.user.username|first|upper }}</div>
        {% endif %}

        <form method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            <input type="file" name="photo" onchange="previewImage(event)">
            <button class="upload-btn" type="submit">Upload Avatar</button>
        </form>

    </div>

    <!-- RIGHT CARD -->
    <div class="form-card">

        <div class="form-title">Edit Profile</div>

        <form method="POST">
            {% csrf_token %}

            <div class="input-group">
            <label>Username</label>
            <input type="text" name="username" value="{{ request.user.username }}">
            </div>

            <div class="input-group">
            <label>Email</label>
            <input type="email" name="email" value="{{ request.user.email }}">
            </div>

            <button class="save-btn" type="submit">Save Changes</button>
        </form>

        <div class="change-password">
            <div class="form-title">Change Password</div>

            <form method="POST">
                {% csrf_token %}
                <div class="input-group">
                    <label>New Password</label>
                    <input type="password" name="new_password">
                </div>

                <div class="input-group">
                    <label>Confirm Password</label>
                    <input type="password" name="confirm_password">
                </div>

                <button class="save-btn" type="submit">Update Password</button>
            </form>
        </div>

    </div>

</div>

</div>

</body>
</html>
